<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>LevelDataEditor</title>
<style type="text/css">
blank, pixel {
	width: 10px;
	height: 10px;
	background-color: #ddeedd;
	display: inline-block;
}
pixel {
	background-image:url('../img/tiles-1.png');
	background-repeat: no-repeat;
	background-position: 0px 0px;
	background-size: 90px auto;
}
</style>
<script type="text/javascript" src="levelDataOld.js"></script>
<script type="text/javascript">
var uiEdit;
var uiDebug;
var iWidth = 64;
var iHeight = 64;

var NL = "<br>";
var iGL = 0;
/*
for (; iGL < gl.length; iGL++) {
	if (gl[iGL] == UNK) {}
}
*/
var dim = {
	cols: 9
	,pixXY: 10
};
function decorateImg(iP) {
	if (iP == 0) {
		return "<blank></blank>";
	}
	//var iX = (iP % dim.cols) - 1;
	var iX = ((iP - 1) % dim.cols);
	var iY = Math.round((iP - iX) / dim.cols);
	var sOut = "<pixel style=\"background-position: -" 
		+ (iX * dim.pixXY)
		+ "px -"
		+ (iY * dim.pixXY)
		+ "px;\" title=\"pos:" + iP + "\"></pixel>"
		;
	return sOut;
}
function createMapFromData() {
	uiDebug.innerHTML = iWidth + " * " + iHeight;
	var sOut = "";
	var iCounterXY = 0;
	for (var iH = 0; iH < iHeight; iH++) {
		for (var iW = 0; iW < iWidth; iW++) {
			var iImgPos = data[iCounterXY];
			sOut += decorateImg(iImgPos);
			iCounterXY++;
		}	
		sOut += NL;
	}	
	uiEdit.innerHTML = sOut;
}
window.addEventListener('DOMContentLoaded', (event) => {
	uiEdit = document.querySelector("div#uiEdit");
	uiEdit.style.width = ((iWidth + 2) * dim.pixXY) + "px";
	uiEdit.style.height = ((iWidth + 2) * dim.pixXY) + "px";
	uiDebug = document.querySelector("div#debug");
	createMapFromData();
});

</script>
</head>
<body>
<div id="debug"></div>
<div id="uiEdit" style="width: 800px;line-height:10px;"></div>
<textarea class="width: 1500px;height:200px;"></textarea>
</body>
</html>