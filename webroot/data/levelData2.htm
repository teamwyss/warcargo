<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>LevelDataEditor</title>
<script type="text/javascript" src="levelDataOld.js"></script>
<script type="text/javascript">
var uiEdit;
var uiDebug;
var iWidth = 64;
var iHeight = 64;

var UNK = "?";
var SPACE = " ";
var BRICK = "B";
var PLANT_SMALL = "Y";
var PLANT_NW = "1";
var PLANT_NE = "2";
var PLANT_SW = "3";
var PLANT_SE = "4";
var TUFT = "*";
var ROCK = "O";
var MUD = ".";
var WATER = "~";
var WATER_NC = "-";
var WATER_SE = "W";
var WATER_SW = "K";
var WATER_SC = "X";
var WATER_SS = "Z";
var gl = [
	SPACE
	,UNK
	,UNK
	,UNK
	,BRICK
	,PLANT_NW
	,PLANT_NE
	,PLANT_SMALL
	,TUFT
	,MUD
	,UNK
	,UNK
	,UNK
	,UNK
	,PLANT_SW
	,PLANT_SE
	,UNK
	,WATER
	,ROCK
	,UNK
	,WATER_SC
	,WATER_SS
	,WATER_NC
	,WATER_SS
	,WATER_SE
	,WATER
	,WATER_SW
	,WATER
	,UNK
	,UNK
	,UNK
	,UNK
	,UNK
	,UNK
	,UNK
	,UNK
];
var NL = "\n";
var iGL = 0;
/*
for (; iGL < gl.length; iGL++) {
	if (gl[iGL] == UNK) {}
}
*/
function createMapFromData() {
	uiDebug.innerHTML = iWidth + " * " + iHeight;
	var sOut = "";
	var iCounterXY = 0;
	for (var iH = 0; iH < iHeight; iH++) {
		for (var iW = 0; iW < iWidth; iW++) {
			var ixValAtXY = data[iCounterXY];
			/*
			case 0:
				sOut += SPACE;
				break;
			default:
				sOut += BRICK;
				break;
			}
			*/
			var sGL = gl[ixValAtXY];			
			if (sGL == UNK) {
				sOut += "<span title=\"" + ixValAtXY + "\">" + gl[ixValAtXY] + "<span>";
			} else {
				sOut += gl[ixValAtXY];
			}
			iCounterXY++;
		}	
		sOut += "|";
		sOut += NL;
	}	
	uiEdit.innerHTML = sOut;
}
window.addEventListener('DOMContentLoaded', (event) => {
	uiEdit = document.querySelector("pre[contenteditable=true]");
	uiDebug = document.querySelector("div#debug");
	createMapFromData();
});

</script>
</head>
<body>
<div id="debug"></div>
<pre contenteditable="true" style="line-height: 60%;font-size:15pt;"></pre>
<textarea class="width: 1500px;height:200px;"></textarea>
</body>
</html>